RewriteEngine On

# Nếu truy cập tới file hoặc thư mục vật lý (file tĩnh), cho phép truy cập thẳng
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Chặn truy cập file nhạy cảm ở root
RewriteRule ^(\.env|composer\.(json|lock)|\.git|vendor|node_modules) - [F,L]

# Tất cả các request còn lại chuyển vào public/index.php
RewriteRule ^ public/index.php [L]